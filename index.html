<!DOCTYPE html>

<html lang="en_ca">
    <head>
        <meta charset="UTF-8">
        <title>East Penn Speed Skating Results</title>
        <style>
            body {
                background-color: #A24857; 
                padding: 10px; 
                color: #BDBDBD;
                font-family: sans-serif;
            }
            #output div {
                margin-bottom: 6px;
            }
        </style>

        <script>
            document.addEventListener("DOMContentLoaded", function() {
                const skaters = getSkaters();

                // for the leader board select club options
                const allClubs = skaters.map(s => s.Club);
                const uniqueClubs = [...new Set(allClubs)];
                const clubSelect = document.getElementById("club");

                uniqueClubs.forEach(club => {
                    const option = document.createElement("option");
                    option.value = club;
                    option.textContent = club;
                    clubSelect.appendChild(option);
                });
                
            });
        </script>
    </head>
        <body>
            <h1>East Penn Long Track Speed Skating Results</h1>

            <div id="getSkater">
                <button onclick="console.log(fetchApi(110684, 500, 2025, 'output'))">
                    Load Results
                </button>

                <div id="output"></div>
            </div>

            <!-- leader board -->
            <div style="text-align: center;">
                <label for="gender">Gender:</label>
                <select name="gender" id="gender">
                    <option value="M">Male</option>
                    <option value="F">Female</option>
                </select>

                <label for="distance">Distance:</label>
                <select name="distance" id="distance">
                    <option value="500">500m</option>
                    <option value="1000">1000m</option>
                    <option value="1500">1500m</option>
                    <option value="3000">3000m</option>
                </select>

                <label for="club">Club:</label>
                <select name="club" id="club">
                </select>

                <button onclick="loadLeaders()">
                    Load Leaders
                </button>

                <div id="leaderBoard"></div>
            </div>
            
            <!-- load scripts -->
            <script src="fetchApiData.js"></script>
            <script src="readSkaterCsv.js"></script>
            <script src="leaderBoard.js"></script>
        </body>
</html>
